{"remainingRequest":"D:\\blogsForGraduate\\web\\blogs\\node_modules\\babel-loader\\lib\\index.js!D:\\blogsForGraduate\\web\\blogs\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\blogsForGraduate\\web\\blogs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\blogsForGraduate\\web\\blogs\\src\\components\\content\\articles.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\blogsForGraduate\\web\\blogs\\src\\components\\content\\articles.vue","mtime":1596949597796},{"path":"D:\\blogsForGraduate\\web\\blogs\\babel.config.js","mtime":1592738866893},{"path":"D:\\blogsForGraduate\\web\\blogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681110343623},{"path":"D:\\blogsForGraduate\\web\\blogs\\node_modules\\babel-loader\\lib\\index.js","mtime":1681110344690},{"path":"D:\\blogsForGraduate\\web\\blogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681110343623},{"path":"D:\\blogsForGraduate\\web\\blogs\\node_modules\\vue-loader\\lib\\index.js","mtime":1681110335584}],"contextDependencies":[],"result":["import axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      count: 0,\n      //起始页\n      loading: true,\n      totalPage: \"\",\n      list: [],\n      ffalg: true\n    };\n  },\n  computed: {\n    noMore: function noMore() {\n      //当起始数大于总页数,则停止\n      return this.count >= this.totalPage - 1;\n    },\n    disabled: function disabled() {\n      return this.loading || this.noMore;\n    }\n  },\n  created: function created() {\n    this.getArticles();\n  },\n  methods: {\n    like: function like() {},\n    favorate: function favorate(index) {\n      if (this.list[index].ffalg) {\n        this.list[index].ffalg = false;\n        this.$message({\n          showClose: true,\n          message: '取消收藏',\n          duration: '1000'\n        });\n      } else {\n        this.list[index].ffalg = true;\n        this.$message({\n          message: '收藏成功',\n          showClose: true,\n          duration: '1000',\n          type: 'success'\n        });\n      }\n    },\n    getArticles: function getArticles() {\n      var that = this;\n      var type = '';\n      if (this.$route.params.type == undefined) {\n        type = 'java';\n      } else {\n        type = this.$route.params.type;\n      }\n      var params = new URLSearchParams();\n      params.append('ptype', type);\n      axios.post(\"/article/selectAll\", params).then(function (res) {\n        for (var i = 0; i < res.data.length; i++) {\n          that.list.push(res.data[i]);\n          that.$set(that.list[i], 'ffalg', false);\n        }\n      });\n    },\n    getArticle: function getArticle() {\n      var that = this;\n      var type = '';\n      if (this.$route.params.type == undefined) {\n        type = 'java';\n      } else {\n        type = this.$route.params.type;\n      }\n      this.count += 1;\n      var params = new URLSearchParams();\n      params.append('ptype', type);\n      params.append('count', this.count);\n      params.append('size', 10);\n      axios.post('/article/showAll', params).then(function (res) {\n        that.list = res.data;\n        that.totalPage = res.length;\n        that.loading = false;\n      });\n    },\n    load: function load() {\n      var _this = this;\n      //滑倒底部时加载\n      this.loading = true;\n      setTimeout(function () {\n        _this.count += 1; //页数+1\n        _this.getArticle();\n      }, 1000);\n    }\n  }\n};",{"version":3,"names":["axios","data","count","loading","totalPage","list","ffalg","computed","noMore","disabled","created","getArticles","methods","like","favorate","index","$message","showClose","message","duration","type","that","$route","params","undefined","URLSearchParams","append","post","then","res","i","length","push","$set","getArticle","load","_this","setTimeout"],"sources":["src/components/content/articles.vue"],"sourcesContent":["<template>\r\n\t<div style=\"height: 1000px;\">\r\n\t\t<el-scrollbar style=\"height: 100%;\">\r\n\t\t\t<div id=\"articles\" v-infinite-scroll=\"load\" infinite-scroll-disabled=\"false\" infinite-scroll-distance='0'>\r\n\t\t\t\t<el-card v-for=\"(item,index) in list\" :key=\"index\" shadow=\"hover\" style=\"margin-top: 2%;margin-left: 2.5%; width: 95%;\"\r\n\t\t\t\t box-shadow=\"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\">\r\n\t\t\t\t \r\n\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t<el-link :underline=\"false\">{{item.ptitle}}</el-link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t<el-button-group>\r\n\t\t\t\t\t\t\t<el-button size=\"mini\" icon=\"el-icon-view\"></el-button>\r\n\t\t\t\t\t\t\t<el-button>{{item.ffalg}}</el-button>\r\n\t\t\t\t\t\t\t<el-button size=\"mini\" :plain=\"true\" v-show=\"item.ffalg\" @click=\"favorate(index)\"  icon=\"el-icon-star-on\"></el-button>\r\n\t\t\t\t\t\t\t<el-button size=\"mini\" :plain=\"true\" v-show=\"!item.ffalg\" @click=\"favorate(index)\" icon=\"el-icon-star-off\"></el-button>\r\n\t\t\t\t\t\t\t<el-button size=\"mini\" icon=\"el-icon-delete\"></el-button>\r\n\t\t\t\t\t\t</el-button-group>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t</el-card>\r\n\t\t\t\t<p v-if=\"loading\" style=\"margin-left: 10px;\" class=\"loading\">\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p v-if=\"noMore\" style=\"margin-top:10px;font-size:13px;color:#ccc\">没有更多了</p>\r\n\t\t\t</div>\r\n\t\t</el-scrollbar>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios'\r\n\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcount: 0, //起始页\r\n\t\t\t\tloading: true,\r\n\t\t\t\ttotalPage: \"\",\r\n\t\t\t\tlist: [],\r\n\t\t\t\tffalg: true,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tnoMore() {\r\n\t\t\t\t//当起始数大于总页数,则停止\r\n\t\t\t\treturn this.count >= this.totalPage - 1\r\n\t\t\t},\r\n\t\t\tdisabled() {\r\n\t\t\t\treturn this.loading || this.noMore;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getArticles()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tlike: function() {\r\n\r\n\t\t\t},\r\n\t\t\tfavorate: function(index) {\r\n\t\t\t\tif (this.list[index].ffalg) {\r\n\t\t\t\t\tthis.list[index].ffalg = false\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: '取消收藏',\r\n\t\t\t\t\t\tduration: '1000',\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.list[index].ffalg = true\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '收藏成功',\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tduration: '1000',\r\n\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetArticles: function() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tvar type = ''\r\n\t\t\t\tif (this.$route.params.type == undefined) {\r\n\t\t\t\t\ttype = 'java'\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttype = this.$route.params.type\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar params = new URLSearchParams();\r\n\t\t\t\tparams.append('ptype', type)\r\n\t\t\t\taxios.post(\"/article/selectAll\", params).then(function(res) {\r\n\t\t\t\t\tfor (var i = 0; i < res.data.length; i++) {\r\n\t\t\t\t\t\tthat.list.push(res.data[i])\r\n\t\t\t\t\t\tthat.$set(that.list[i], 'ffalg', false)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetArticle: function() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tvar type = ''\r\n\r\n\t\t\t\tif (this.$route.params.type == undefined) {\r\n\t\t\t\t\ttype = 'java'\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttype = this.$route.params.type\r\n\t\t\t\t}\r\n\t\t\t\tthis.count += 1;\r\n\r\n\t\t\t\tvar params = new URLSearchParams();\r\n\t\t\t\tparams.append('ptype', type)\r\n\t\t\t\tparams.append('count', this.count)\r\n\t\t\t\tparams.append('size', 10)\r\n\r\n\t\t\t\taxios.post('/article/showAll', params).then(res => {\r\n\t\t\t\t\tthat.list = res.data\r\n\t\t\t\t\tthat.totalPage = res.length\r\n\t\t\t\t\tthat.loading = false;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tload: function() {\r\n\t\t\t\t//滑倒底部时加载\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.count += 1; //页数+1\r\n\t\t\t\t\tthis.getArticle();\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#articles {\r\n\t\tmargin-top: 10px;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.loading span {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 20px;\r\n\t\theight: 20px;\r\n\t\tborder: 2px solid #409eff;\r\n\t\tborder-left: transparent;\r\n\t\tanimation: zhuan 0.5s linear infinite;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n</style>\n"],"mappings":"AAgCA,OAAAA,KAAA;AAGA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,KAAA;MAAA;MACAC,OAAA;MACAC,SAAA;MACAC,IAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACAC,MAAA,WAAAA,OAAA;MACA;MACA,YAAAN,KAAA,SAAAE,SAAA;IACA;IACAK,QAAA,WAAAA,SAAA;MACA,YAAAN,OAAA,SAAAK,MAAA;IACA;EACA;EACAE,OAAA,WAAAA,QAAA;IACA,KAAAC,WAAA;EACA;EACAC,OAAA;IACAC,IAAA,WAAAA,KAAA,GAEA;IACAC,QAAA,WAAAA,SAAAC,KAAA;MACA,SAAAV,IAAA,CAAAU,KAAA,EAAAT,KAAA;QACA,KAAAD,IAAA,CAAAU,KAAA,EAAAT,KAAA;QACA,KAAAU,QAAA;UACAC,SAAA;UACAC,OAAA;UACAC,QAAA;QACA;MACA;QACA,KAAAd,IAAA,CAAAU,KAAA,EAAAT,KAAA;QACA,KAAAU,QAAA;UACAE,OAAA;UACAD,SAAA;UACAE,QAAA;UACAC,IAAA;QACA;MACA;IACA;IACAT,WAAA,WAAAA,YAAA;MACA,IAAAU,IAAA;MACA,IAAAD,IAAA;MACA,SAAAE,MAAA,CAAAC,MAAA,CAAAH,IAAA,IAAAI,SAAA;QACAJ,IAAA;MACA;QACAA,IAAA,QAAAE,MAAA,CAAAC,MAAA,CAAAH,IAAA;MACA;MAEA,IAAAG,MAAA,OAAAE,eAAA;MACAF,MAAA,CAAAG,MAAA,UAAAN,IAAA;MACApB,KAAA,CAAA2B,IAAA,uBAAAJ,MAAA,EAAAK,IAAA,WAAAC,GAAA;QACA,SAAAC,CAAA,MAAAA,CAAA,GAAAD,GAAA,CAAA5B,IAAA,CAAA8B,MAAA,EAAAD,CAAA;UACAT,IAAA,CAAAhB,IAAA,CAAA2B,IAAA,CAAAH,GAAA,CAAA5B,IAAA,CAAA6B,CAAA;UACAT,IAAA,CAAAY,IAAA,CAAAZ,IAAA,CAAAhB,IAAA,CAAAyB,CAAA;QACA;MACA;IACA;IACAI,UAAA,WAAAA,WAAA;MACA,IAAAb,IAAA;MACA,IAAAD,IAAA;MAEA,SAAAE,MAAA,CAAAC,MAAA,CAAAH,IAAA,IAAAI,SAAA;QACAJ,IAAA;MACA;QACAA,IAAA,QAAAE,MAAA,CAAAC,MAAA,CAAAH,IAAA;MACA;MACA,KAAAlB,KAAA;MAEA,IAAAqB,MAAA,OAAAE,eAAA;MACAF,MAAA,CAAAG,MAAA,UAAAN,IAAA;MACAG,MAAA,CAAAG,MAAA,eAAAxB,KAAA;MACAqB,MAAA,CAAAG,MAAA;MAEA1B,KAAA,CAAA2B,IAAA,qBAAAJ,MAAA,EAAAK,IAAA,WAAAC,GAAA;QACAR,IAAA,CAAAhB,IAAA,GAAAwB,GAAA,CAAA5B,IAAA;QACAoB,IAAA,CAAAjB,SAAA,GAAAyB,GAAA,CAAAE,MAAA;QACAV,IAAA,CAAAlB,OAAA;MACA;IACA;IACAgC,IAAA,WAAAA,KAAA;MAAA,IAAAC,KAAA;MACA;MACA,KAAAjC,OAAA;MACAkC,UAAA;QACAD,KAAA,CAAAlC,KAAA;QACAkC,KAAA,CAAAF,UAAA;MACA;IACA;EACA;AACA"}]}