{"remainingRequest":"D:\\JS\\blogs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JS\\blogs\\src\\components\\content\\articles.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\JS\\blogs\\src\\components\\content\\articles.vue","mtime":1596949597796},{"path":"D:\\JS\\blogs\\node_modules\\css-loader\\index.js","mtime":1593388453260},{"path":"D:\\JS\\blogs\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1593388507363},{"path":"D:\\JS\\blogs\\node_modules\\postcss-loader\\src\\index.js","mtime":1593388514032},{"path":"D:\\JS\\blogs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593388478700},{"path":"D:\\JS\\blogs\\node_modules\\vue-loader\\lib\\index.js","mtime":1593388507309}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#articles {\n\tmargin-top: 10px;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.loading span {\n\tdisplay: inline-block;\n\twidth: 20px;\n\theight: 20px;\n\tborder: 2px solid #409eff;\n\tborder-left: transparent;\n\tanimation: zhuan 0.5s linear infinite;\n\tborder-radius: 50%;\n}\n",{"version":3,"sources":["articles.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"articles.vue","sourceRoot":"src/components/content","sourcesContent":["<template>\r\n\t<div style=\"height: 1000px;\">\r\n\t\t<el-scrollbar style=\"height: 100%;\">\r\n\t\t\t<div id=\"articles\" v-infinite-scroll=\"load\" infinite-scroll-disabled=\"false\" infinite-scroll-distance='0'>\r\n\t\t\t\t<el-card v-for=\"(item,index) in list\" :key=\"index\" shadow=\"hover\" style=\"margin-top: 2%;margin-left: 2.5%; width: 95%;\"\r\n\t\t\t\t box-shadow=\"0 2px 4px rgba(0, 0, 0, .12), 0 0 6px rgba(0, 0, 0, .04)\">\r\n\t\t\t\t \r\n\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t<el-link :underline=\"false\">{{item.ptitle}}</el-link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t<el-button-group>\r\n\t\t\t\t\t\t\t<el-button size=\"mini\" icon=\"el-icon-view\"></el-button>\r\n\t\t\t\t\t\t\t<el-button>{{item.ffalg}}</el-button>\r\n\t\t\t\t\t\t\t<el-button size=\"mini\" :plain=\"true\" v-show=\"item.ffalg\" @click=\"favorate(index)\"  icon=\"el-icon-star-on\"></el-button>\r\n\t\t\t\t\t\t\t<el-button size=\"mini\" :plain=\"true\" v-show=\"!item.ffalg\" @click=\"favorate(index)\" icon=\"el-icon-star-off\"></el-button>\r\n\t\t\t\t\t\t\t<el-button size=\"mini\" icon=\"el-icon-delete\"></el-button>\r\n\t\t\t\t\t\t</el-button-group>\r\n\t\t\t\t\t</el-row>\r\n\t\t\t\t</el-card>\r\n\t\t\t\t<p v-if=\"loading\" style=\"margin-left: 10px;\" class=\"loading\">\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p v-if=\"noMore\" style=\"margin-top:10px;font-size:13px;color:#ccc\">没有更多了</p>\r\n\t\t\t</div>\r\n\t\t</el-scrollbar>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios'\r\n\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcount: 0, //起始页\r\n\t\t\t\tloading: true,\r\n\t\t\t\ttotalPage: \"\",\r\n\t\t\t\tlist: [],\r\n\t\t\t\tffalg: true,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tnoMore() {\r\n\t\t\t\t//当起始数大于总页数,则停止\r\n\t\t\t\treturn this.count >= this.totalPage - 1\r\n\t\t\t},\r\n\t\t\tdisabled() {\r\n\t\t\t\treturn this.loading || this.noMore;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getArticles()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tlike: function() {\r\n\r\n\t\t\t},\r\n\t\t\tfavorate: function(index) {\r\n\t\t\t\tif (this.list[index].ffalg) {\r\n\t\t\t\t\tthis.list[index].ffalg = false\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: '取消收藏',\r\n\t\t\t\t\t\tduration: '1000',\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.list[index].ffalg = true\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '收藏成功',\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tduration: '1000',\r\n\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetArticles: function() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tvar type = ''\r\n\t\t\t\tif (this.$route.params.type == undefined) {\r\n\t\t\t\t\ttype = 'java'\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttype = this.$route.params.type\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar params = new URLSearchParams();\r\n\t\t\t\tparams.append('ptype', type)\r\n\t\t\t\taxios.post(\"/article/selectAll\", params).then(function(res) {\r\n\t\t\t\t\tfor (var i = 0; i < res.data.length; i++) {\r\n\t\t\t\t\t\tthat.list.push(res.data[i])\r\n\t\t\t\t\t\tthat.$set(that.list[i], 'ffalg', false)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetArticle: function() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tvar type = ''\r\n\r\n\t\t\t\tif (this.$route.params.type == undefined) {\r\n\t\t\t\t\ttype = 'java'\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttype = this.$route.params.type\r\n\t\t\t\t}\r\n\t\t\t\tthis.count += 1;\r\n\r\n\t\t\t\tvar params = new URLSearchParams();\r\n\t\t\t\tparams.append('ptype', type)\r\n\t\t\t\tparams.append('count', this.count)\r\n\t\t\t\tparams.append('size', 10)\r\n\r\n\t\t\t\taxios.post('/article/showAll', params).then(res => {\r\n\t\t\t\t\tthat.list = res.data\r\n\t\t\t\t\tthat.totalPage = res.length\r\n\t\t\t\t\tthat.loading = false;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tload: function() {\r\n\t\t\t\t//滑倒底部时加载\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.count += 1; //页数+1\r\n\t\t\t\t\tthis.getArticle();\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#articles {\r\n\t\tmargin-top: 10px;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.loading span {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 20px;\r\n\t\theight: 20px;\r\n\t\tborder: 2px solid #409eff;\r\n\t\tborder-left: transparent;\r\n\t\tanimation: zhuan 0.5s linear infinite;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n</style>\n"]}]}